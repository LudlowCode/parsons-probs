<!doctype html>
<html>
    <head>
        <title>Rearrange the algorithms</title>
        <link href="./parsons.css" rel="stylesheet" />
        <link href="./lib/prettify.css" rel="stylesheet" />
        <script src="./lib/prettify.js"></script>
    </head>
    <body>
        <h2>Bubble sort</h2>
        <p>Drag and drop the lines into the box on the right. The constructed function should bubble the highest number to the end index and repeat for the second highest to end -1 etc, until the list is sorted.</p>
        <p>Indentation matters, and there <em>may</em> be a line / lines that you shouldn't include.</p>
          
        <div id="sortableTrash" class="sortable-code"></div>
        <div id="sortable" class="sortable-code">
        </div>
        <div style="clear:both;"></div>
        <p>
            <a href="#" id="newInstanceLink">New instance</a>
            <a href="#" id="feedbackLink">Get feedback</a>
        </p>
        <script src="./lib/jquery.min.js"></script>
        <script src="./lib/jquery-ui.min.js"></script>
        <script src="./lib/jquery.ui.touch-punch.min.js"></script>
        <script src="./lib/underscore-min.js"></script>
        <script src="./lib/lis.js"></script>
        <script src="./parsons.js"></script>
        <script>
        var initial =   'Function insertionSort(items)\n'+
        '  For index = 1 TO items.Length\n'+
        '    current_item = items[index]\n'+
        '    new_index = index\n'+
        '    While new_index > 0 AND items[new_index -1] > current_item //correct position not yet found\n'+
        '      items[new_index] = items[new_index -1] //shuffle item across\n'+
        '      new_index = new_index -1\n'+
        '    End while\n'+
        '    items[new_index] = current_item //place item in correct position\n'+
        '  End For\n'+
        '  Return items\n'+
        'End function   \n';
        
        function displayErrors(fb) {
            if(fb.errors.length > 0) {
                alert(fb.errors[0]);
            }
        } 

        $(document).ready(function(){
            var parson = new ParsonsWidget({
                'sortableId': 'sortable',
                'trashId': 'sortableTrash',
                'max_wrong_lines': 1,
                'feedback_cb' : displayErrors
            });
            parson.init(initial);
            parson.shuffleLines();
            $("#newInstanceLink").click(function(event){
                event.preventDefault();
                parson.shuffleLines();
            });
            $("#feedbackLink").click(function(event){
                event.preventDefault();
                parson.getFeedback();
            });
        });
        </script>
        <footer><a href="index.html" >Take me back to the algorithms...</a></footer>
    </body>
</html>
