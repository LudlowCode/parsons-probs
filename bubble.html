<!doctype html>
<html>
    <head>
        <title>Rearrange the algorithms</title>
        <link href="./parsons.css" rel="stylesheet" />
        <link href="./lib/prettify.css" rel="stylesheet" />
        <script src="./lib/prettify.js"></script>
    </head>
    <body>
        <h2>Bubble sort - Python version</h2>
        <p>Drag and drop the lines into the box on the right. The constructed function should bubble the highest number to the end index and repeat for the second highest to end -1 etc, until the list is sorted. This is an inefficient simplified version. Go back to the algorithms for a more optimised version, but be aware that no bubble sort will ever be efficient enough to use on a large data set. That's what quick sort and merge sort are for.</p>
        <p>Indentation matters, and there <em>may</em> be a line / lines that you shouldn't include.</p>
          
        <div id="sortableTrash" class="sortable-code"></div>
        <div id="sortable" class="sortable-code">
        </div>
        <div style="clear:both;"></div>
        <p>
            <button class='restart' href="#" id="newInstanceLink">Start again</button>
            <button class='submit' href="#" id="feedbackLink">Check my answer</button>
        </p>
        <script src="./lib/jquery.min.js"></script>
        <script src="./lib/jquery-ui.min.js"></script>
        <script src="./lib/jquery.ui.touch-punch.min.js"></script>
        <script src="./lib/underscore-min.js"></script>
        <script src="./lib/lis.js"></script>
        <script src="./parsons.js"></script>
        <script>
            var initial = 'def bubble_sort(items):\n'+
        '  length = len(items)\n'+
        '  for pass_number in range(1,length):\n'+
        '  for index in range(length):#distractor\n'+
        '    for index in range(length - pass_number):\n'+
        '      if items[index] > items[index+1]:\n'+
        '        temp = items[index]\n'+
        '        items[index] = items[index+1]\n'+
        '        items[index+1] = items[index]#distractor\n'+
        '        items[index+1] = temp\n';

        function displayErrors(fb) {
            if(fb.errors.length > 0) {
                alert(fb.errors[0]);
            }
        } 

        $(document).ready(function(){
            var parson = new ParsonsWidget({
                'sortableId': 'sortable',
                'trashId': 'sortableTrash',
                'max_wrong_lines': 2,
                'feedback_cb' : displayErrors
            });
            parson.init(initial);
            parson.shuffleLines();
            $("#newInstanceLink").click(function(event){
                event.preventDefault();
                parson.shuffleLines();
            });
            $("#feedbackLink").click(function(event){
                event.preventDefault();
                parson.getFeedback();
            });
        });        
        </script>
        <footer><a href="index.html" >Take me back to the algorithms...</a>&nbsp;&nbsp;|&nbsp;&nbsp;<a href="https://ludlowcode.github.io/revision-materials/" target="_blank">Dave's Revision World</a></footer>
    </body>
</html>
